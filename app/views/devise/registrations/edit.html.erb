<% title(t('edit_profile', scope: 'common')) %>
<h1><%= t('edit_profile', scope: 'common') %></h1>


<%= render 'common/tutor_tabs' %>

<div class="panel borderless-top panel-default">
	<div class="panel-body">
		<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :multipart => true }) do |f| %>
		  <%= devise_error_messages! %>
		
		  <div><%= f.label :email %><br />
		  <%= f.email_field :email, :autofocus => true %></div>
		
		  <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
		    <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
		  <% end %>
		  
		  <div><%= f.label :first_name %><br />
		  <%= f.text_field :first_name %></div>
		  
		  <div><%= f.label :last_name %><br />
		  <%= f.text_field :last_name %></div>
		  
		  <div>
			  <%= f.radio_button :gender, "male" %>
				<%= f.label :gender_male, t('gender_male', scope: 'activerecord.attributes.user') %>
				<%= f.radio_button :gender, "female" %>
				<%= f.label :gender_female, t('gender_female', scope: 'activerecord.attributes.user') %>
			</div>
			
			<div>
				<%= f.label :birthday %><br />
				<%= f.text_field :birthday %>
				Users must be aged 18 or over
			</div>
		
			<div>
				<%= f.label :time_zone %><br />
				<%= f.time_zone_select :time_zone, nil, :model => I18nTimeZone, :include_blank => true %>
			</div>
		
			<div>
				<%= image_tag(resource.avatar_url, :class => "img-thumbnail") if resource.avatar? %>
				<%= f.file_field :avatar %>
				<%= f.hidden_field :avatar_cache %>
			</div>
			<br />
			<div>
				<%= f.label :remove_avatar, 'Remove profile picture'%>
				<%= f.check_box :remove_avatar %>
			</div>
			<br />
			
		  <div><%= f.label :password %> <i>(leave blank if you don't want to change it)</i><br />
		  <%= f.password_field :password, :autocomplete => "off" %></div>
		
		  <div><%= f.label :password_confirmation %><br />
		  <%= f.password_field :password_confirmation %></div>
		
		  <div><%= f.label :current_password %> <i>(we need your current password to confirm your changes)</i><br />
		  <%= f.password_field :current_password %></div>
		
		  <div><%= f.submit t('update', scope: 'devise.registrations.edit') %></div>
		<% end %>
	</div><!-- End Panel-body -->
</div><!-- End Panel -->

<hr />
<div class="text-center alert alert-warning">
	<h3><%= t('unhappy', scope: 'devise.registrations.edit') %></h3>
	<%= button_to t('cancel_account', scope: 'devise.registrations.edit'), registration_path(resource_name), :data => { :confirm => t('globals.destroy_confirm') }, :method => :delete, :class => "btn btn-danger" %>
	<br />
</div>
